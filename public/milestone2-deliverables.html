<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Milestone 2 Deliverables ‚Äî Ethical Decision-Making Analyzer</title>
<style>
  @media print {
    body { margin: 0.5in; }
    .no-print { display: none; }
    a { color: #1a3a6b; }
  }
  body { font-family: 'Segoe UI', Arial, sans-serif; max-width: 800px; margin: 40px auto; padding: 0 24px; color: #1a1a2e; line-height: 1.6; }
  h1 { font-size: 24px; border-bottom: 3px solid #1a3a6b; padding-bottom: 8px; color: #1a3a6b; }
  h2 { font-size: 18px; color: #1a3a6b; margin-top: 32px; border-bottom: 1px solid #ddd; padding-bottom: 4px; }
  h3 { font-size: 15px; color: #333; margin-top: 20px; }
  table { width: 100%; border-collapse: collapse; margin: 12px 0; font-size: 14px; }
  th, td { border: 1px solid #ccc; padding: 8px 12px; text-align: left; }
  th { background: #f0f4fa; font-weight: 600; }
  .status-done { color: #16a34a; font-weight: 600; }
  .badge { display: inline-block; background: #1a3a6b; color: white; padding: 2px 10px; border-radius: 4px; font-size: 12px; }
  .credential-box { background: #f8f9fb; border: 1px solid #ddd; border-radius: 8px; padding: 16px; margin: 12px 0; }
  .credential-box dt { font-weight: 600; font-size: 13px; color: #666; margin-top: 8px; }
  .credential-box dd { margin: 2px 0 0 0; font-size: 15px; font-family: monospace; color: #1a1a2e; }
  .link-list { list-style: none; padding: 0; }
  .link-list li { padding: 6px 0; border-bottom: 1px solid #f0f0f0; }
  .link-list li:last-child { border: none; }
  .link-list a { color: #1a3a6b; text-decoration: none; }
  .link-list a:hover { text-decoration: underline; }
  .test-step { background: #fafbfc; border-left: 3px solid #1a3a6b; padding: 12px 16px; margin: 10px 0; border-radius: 0 6px 6px 0; }
  .test-step strong { color: #1a3a6b; }
  .print-btn { background: #1a3a6b; color: white; border: none; padding: 12px 24px; border-radius: 6px; font-size: 15px; cursor: pointer; margin: 20px 0; }
  .print-btn:hover { background: #0f2a52; }
  .note { background: #fffbe6; border: 1px solid #f5e6a3; padding: 12px; border-radius: 6px; font-size: 13px; margin: 12px 0; }
</style>
</head>
<body>

<button class="print-btn no-print" onclick="window.print()">üìÑ Download as PDF (Print ‚Üí Save as PDF)</button>

<h1>Milestone 2 Deliverables</h1>
<p><strong>Project:</strong> Ethical Decision-Making Analyzer<br>
<strong>Date:</strong> February 17, 2026<br>
<strong>Version:</strong> Algorithm v1.2 ‚Äî Professional Codes Integrated</p>

<h2>1. Application Links</h2>
<table>
  <tr><th>Page</th><th>URL</th></tr>
  <tr><td>Published App (Home)</td><td><a href="https://ethical-insight-pro.lovable.app">https://ethical-insight-pro.lovable.app</a></td></tr>
  <tr><td>Login</td><td><a href="https://ethical-insight-pro.lovable.app/login">https://ethical-insight-pro.lovable.app/login</a></td></tr>
  <tr><td>Book Verification</td><td><a href="https://ethical-insight-pro.lovable.app/verify">https://ethical-insight-pro.lovable.app/verify</a></td></tr>
  <tr><td>Registration</td><td><a href="https://ethical-insight-pro.lovable.app/register">https://ethical-insight-pro.lovable.app/register</a></td></tr>
  <tr><td>Case Submission</td><td><a href="https://ethical-insight-pro.lovable.app/case-intake">https://ethical-insight-pro.lovable.app/case-intake</a></td></tr>
  <tr><td>Results (requires case)</td><td><a href="https://ethical-insight-pro.lovable.app/results">https://ethical-insight-pro.lovable.app/results</a></td></tr>
  <tr><td>About / Information</td><td><a href="https://ethical-insight-pro.lovable.app/about">https://ethical-insight-pro.lovable.app/about</a></td></tr>
  <tr><td>Admin Dashboard</td><td><a href="https://ethical-insight-pro.lovable.app/admin">https://ethical-insight-pro.lovable.app/admin</a></td></tr>
</table>

<div class="note">‚ö†Ô∏è <strong>Note:</strong> The published URLs above require the app to be published first. For testing before publishing, use the preview URL: <a href="https://id-preview--09040bb8-beda-413a-9b47-2c7b2631cec5.lovable.app">Preview Link</a></div>

<h2>2. Credentials</h2>

<h3>Admin Account</h3>
<div class="credential-box">
  <dl>
    <dt>Email</dt><dd>mark@admin.com</dd>
    <dt>Password</dt><dd>Set during registration (contact developer if unknown)</dd>
    <dt>Access URL</dt><dd><a href="https://ethical-insight-pro.lovable.app/admin">/admin</a></dd>
  </dl>
</div>

<h3>Book Verification Question (for new user registration)</h3>
<div class="credential-box">
  <dl>
    <dt>Question</dt><dd>Who is the owner of this project?</dd>
    <dt>Answer</dt><dd>mark</dd>
  </dl>
</div>

<h2>3. Milestone 2 Requirements Checklist</h2>

<h3>Access & Registration Flow</h3>
<table>
  <tr><th>Requirement</th><th>Status</th></tr>
  <tr><td>Book verification via knowledge-based question</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>User registration (name + email required; profession/tenure optional)</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>No printed or per-book access codes</td><td class="status-done">‚úÖ Done</td></tr>
</table>

<h3>Usage Limits</h3>
<table>
  <tr><th>Requirement</th><th>Status</th></tr>
  <tr><td>5 analyses initially per verified user</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Usage tracked per user (auto-increments on submission)</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Usage resettable by admin</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Blocks further analyses when limit reached</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>No monetization UI (data model supports future monetization)</td><td class="status-done">‚úÖ Done</td></tr>
</table>

<h3>Scoring & Algorithm (v1.2)</h3>
<table>
  <tr><th>Requirement</th><th>Status</th></tr>
  <tr><td>1‚Äì10 scoring scale per lens (no sub-ranges or bins)</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>UI label: "1 = Very low ethical alignment ¬∑ 10 = Very high ethical alignment"</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Six ethical lenses with equal weighting</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Professional codes constrain Duty, Rights, Justice lenses</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Duty/Rights capped at 4 on code violation</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>"Ethically unstable" flag on code violations</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Conflict levels (1‚Äì3) based on lens divergence</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Multi-code disagreement ‚Üí Level 3</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>No full code texts stored/reproduced</td><td class="status-done">‚úÖ Done</td></tr>
</table>

<h3>Confidentiality & Data Safeguards</h3>
<table>
  <tr><th>Requirement</th><th>Status</th></tr>
  <tr><td>Pre-submission anonymization notice on case intake page</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Two required consent checkboxes (no confidential info + aggregate use)</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Consent fields stored in database for compliance tracking</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>About/Information page with data use & confidentiality statement</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Results page disclaimer</td><td class="status-done">‚úÖ Done</td></tr>
</table>

<h3>Attribution (Wiley)</h3>
<table>
  <tr><th>Requirement</th><th>Status</th></tr>
  <tr><td>Wiley copyright notice in About/Information section only</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Exact text: "From <em>Ethical Decision-making in Occupational and Environmental Health and Safety: A Comparative Case Study Approach</em>, Copyright ¬© 2026 by John Wiley & Sons, Inc. Used by arrangement with John Wiley & Sons, Inc."</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Not displayed on main analysis screen</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>No Wiley logo required</td><td class="status-done">‚úÖ Done</td></tr>
</table>

<h3>Security (Publisher Guidance)</h3>
<table>
  <tr><th>Requirement</th><th>Status</th></tr>
  <tr><td>No long-term client-side caching of excerpts/outputs</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Content served dynamically, stored only as needed</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Authenticated, permission-based access only</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>No bulk extraction beyond intended PDF export</td><td class="status-done">‚úÖ Done</td></tr>
  <tr><td>Excerpts limited and proportional to educational use</td><td class="status-done">‚úÖ Done</td></tr>
</table>

<h2>4. Test Instructions</h2>

<h3>Test A: New User Registration Flow</h3>
<div class="test-step">
  <strong>Step 1:</strong> Go to <a href="https://ethical-insight-pro.lovable.app/verify">/verify</a><br>
  <strong>Step 2:</strong> Answer the question: <em>"Who is the owner of this project?"</em> ‚Üí Type <strong>mark</strong><br>
  <strong>Step 3:</strong> Complete registration with name, email, and password<br>
  <strong>Step 4:</strong> Log in with the new account<br>
  <strong>Expected:</strong> Redirected to case intake page. Usage counter shows 0 / 5.
</div>

<h3>Test B: Case Submission & Analysis</h3>
<div class="test-step">
  <strong>Step 1:</strong> On the case intake page, fill in a title and narrative<br>
  <strong>Step 2:</strong> Select at least one professional code (e.g., BCSP/ASSP)<br>
  <strong>Step 3:</strong> Check both consent boxes<br>
  <strong>Step 4:</strong> Click "Submit Case for Analysis"<br>
  <strong>Step 5:</strong> Wait for analysis (button shows "Analyzing...")<br>
  <strong>Expected:</strong> Automatically redirected to results page with scores (1‚Äì10), radar chart, conflict analysis, recommendations, and disclaimer. Usage counter increments by 1.
</div>

<h3>Test C: Usage Limit Enforcement</h3>
<div class="test-step">
  <strong>Step 1:</strong> Submit cases until usage count equals max (5)<br>
  <strong>Expected:</strong> Warning banner appears. Submit button is disabled. User cannot submit more cases.
</div>

<h3>Test D: Admin Dashboard</h3>
<div class="test-step">
  <strong>Step 1:</strong> Go to <a href="https://ethical-insight-pro.lovable.app/admin">/admin</a><br>
  <strong>Step 2:</strong> Log in with admin credentials (mark@admin.com)<br>
  <strong>Expected:</strong> Dashboard shows stats, user list, recent submissions, and verification question management.<br>
  <strong>Step 3:</strong> Test resetting a user's usage count<br>
  <strong>Step 4:</strong> Test adding/editing/deleting verification questions
</div>

<h3>Test E: About / Information Page</h3>
<div class="test-step">
  <strong>Step 1:</strong> Go to <a href="https://ethical-insight-pro.lovable.app/about">/about</a><br>
  <strong>Expected:</strong> Shows Wiley attribution, data use & confidentiality statement, and disclaimer. No Wiley logo.
</div>

<h3>Test F: Results Page Verification</h3>
<div class="test-step">
  <strong>Step 1:</strong> After completing Test B, review the results page<br>
  <strong>Expected:</strong><br>
  ‚Ä¢ Composite score displayed (1‚Äì10 scale)<br>
  ‚Ä¢ Six lens cards with scores, reasoning, and scale label<br>
  ‚Ä¢ Radar chart visualization<br>
  ‚Ä¢ Conflict alert (if applicable)<br>
  ‚Ä¢ Warning flags (if applicable)<br>
  ‚Ä¢ Professional code implications section<br>
  ‚Ä¢ Recommended actions and reflection questions<br>
  ‚Ä¢ Print/Export PDF button works<br>
  ‚Ä¢ Disclaimer text at bottom
</div>

<h2>5. Technical Architecture Summary</h2>
<table>
  <tr><th>Component</th><th>Technology</th></tr>
  <tr><td>Frontend</td><td>React 18, Vite, Tailwind CSS, TypeScript</td></tr>
  <tr><td>Backend</td><td>Lovable Cloud (Supabase)</td></tr>
  <tr><td>AI Analysis</td><td>Google Gemini 2.0 Flash via Edge Function</td></tr>
  <tr><td>Authentication</td><td>Email/password with book verification gate</td></tr>
  <tr><td>Database</td><td>PostgreSQL with Row-Level Security</td></tr>
  <tr><td>Admin Access</td><td>Role-based (RBAC) with inline login on /admin</td></tr>
</table>

<p style="text-align: center; margin-top: 40px; color: #999; font-size: 12px;">
  ‚Äî End of Milestone 2 Deliverables Document ‚Äî
</p>

</body>
</html>
